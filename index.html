<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>燒烤清單 & 想買清單</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <header class="header">
    <div class="container header__inner">
      <div class="brand">
        <div class="brand__logo">🔥</div>
        <div>
          <h1 class="brand__title">燒烤清單</h1>
          <p class="brand__subtitle">清單 • 買咗未 • 想買</p>
        </div>
      </div>

      <div class="header__actions">
        <button id="btnExport" class="btn btn--ghost" type="button">匯出 JSON</button>
        <label class="btn btn--ghost" for="importFile">匯入</label>
        <input id="importFile" type="file" accept="application/json" hidden />
        <button id="btnReset" class="btn btn--danger" type="button">清空</button>
      </div>
    </div>
  </header>

  <main class="container main">
    <section class="card">
      <div class="card__head">
        <h2>快速新增</h2>
        <p class="muted">新增物品到「清單」或「想買」。</p>
      </div>

      <form id="addForm" class="grid">
        <div class="field">
          <label for="itemName">物品名稱</label>
          <input id="itemName" name="itemName" placeholder="例如：炭 / 夾 / 紙碟" required />
        </div>

        <div class="field">
          <label for="itemCategory">分類</label>
          <select id="itemCategory" name="itemCategory">
            <option value="equipment">工具</option>
            <option value="food">食物</option>
            <option value="drink">飲品</option>
            <option value="misc">其他</option>
          </select>
        </div>

        <div class="field">
          <label for="itemList">加到</label>
          <select id="itemList" name="itemList">
            <option value="checklist">清單</option>
            <option value="wishlist">想買</option>
          </select>
        </div>

        <div class="field">
          <label for="itemQty">數量</label>
          <input id="itemQty" name="itemQty" type="number" min="1" value="1" />
        </div>

        <div class="field">
          <label for="itemNote">備註</label>
          <input id="itemNote" name="itemNote" placeholder="可留空（例如：size、牌子）」 />
        </div>

        <div class="field field--actions">
          <button class="btn" type="submit">新增</button>
        </div>
      </form>
    </section>

    <section class="two-col">
      <section class="card">
        <div class="card__head">
          <div>
            <h2>清單</h2>
            <p class="muted">勾選已處理 / 已買。</p>
          </div>

          <div class="toolbar">
            <input id="searchChecklist" class="search" placeholder="搜尋清單..." />
            <select id="filterChecklist" class="select">
              <option value="all">全部</option>
              <option value="open">未處理</option>
              <option value="done">已完成</option>
              <option value="bought">已買</option>
            </select>
          </div>
        </div>

        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>完成</th>
                <th>物品</th>
                <th>分類</th>
                <th>數量</th>
                <th>邊個買</th>
                <th>金額</th>
                <th>備註</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="checklistBody"></tbody>
          </table>
        </div>

        <div class="card__foot">
          <div class="stats" id="checklistStats"></div>
        </div>
      </section>

      <section class="card">
        <div class="card__head">
          <div>
            <h2>想買</h2>
            <p class="muted">之後先買 / 想買嘅嘢。</p>
          </div>

          <div class="toolbar">
            <input id="searchWishlist" class="search" placeholder="搜尋想買..." />
            <select id="filterWishlist" class="select">
              <option value="all">全部</option>
              <option value="open">未處理</option>
              <option value="bought">已買</option>
            </select>
          </div>
        </div>

        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>已買</th>
                <th>物品</th>
                <th>分類</th>
                <th>數量</th>
                <th>邊個買</th>
                <th>金額</th>
                <th>備註</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="wishlistBody"></tbody>
          </table>
        </div>

        <div class="card__foot">
          <div class="stats" id="wishlistStats"></div>
        </div>
      </section>
    </section>

    <section class="card">
      <div class="card__head">
        <h2>結算</h2>
        <p class="muted">自動計算總額同平分（多人同步）。</p>
      </div>

      <div class="summary">
        <div class="summary__box">
          <div class="summary__label">總支出</div>
          <div id="totalSpent" class="summary__value">$0</div>
        </div>
        <div class="summary__box">
          <div class="summary__label">已買項目</div>
          <div id="boughtCount" class="summary__value">0</div>
        </div>
        <div class="summary__box">
          <div class="summary__label">未處理項目</div>
          <div id="openCount" class="summary__value">0</div>
        </div>
      
      <div class="settle">
        <div class="settle__head">
          <div>
            <div class="settle__title">平分 & 差額</div>
            <div class="muted">輸入參加者（用逗號分隔），或者留空會自動用「邊個買」欄位推算。</div>
          </div>
          <div class="settle__share">
            <div class="settle__shareLabel">每人應該平分</div>
            <div id="perPersonShare" class="settle__shareValue">$0</div>
          </div>
        </div>

        <div class="settle__inputs">
          <input id="participantsInput" class="input" placeholder="參加者：Wesley, AAA, BBB" />
        </div>

        <div id="splitResult" class="settle__list"></div>
      </div>

</div>
    </section>
  </main>


  <script type="module" src="./app.js"></script>
</body>
</html>

